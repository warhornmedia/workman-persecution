# Basic instructions

## Creating a new repo for a new book on Github

1. Go to [the repo](https://github.com/warhornmedia/warhorn-classics-book-template) on Github and click "Use this template." 

```{r echo = FALSE, fig.align = 'center', out.width = "65%"}
knitr::include_graphics('images/screenshot1.png')
```

2. Change the owner to warhornmedia. Enter a repository name using the format "authorlastname-short-book-title". Set the repository to public. And include all branches. Then click "Create repository from template"

```{r echo = FALSE, fig.align = 'center', out.width = "65%"}
knitr::include_graphics('images/screenshot2.png')
```

3. Create an account on travis-ci.com and link it to your github account. Make sure to give it permission for the warhornmedia organization as well.

4. Clone the new repo to your computer and navigate into its folder in Terminal. Then run the following command locally, answering 'yes' to both questions.[^1] 

    ```
    travis encrypt GITHUB_PAT=yourTokenGoesHere --com --add -x
    ```

This will encrypt your token so that only Travis CI can use it. Then it will add it to the end of the .travis.yml file. Because it is encrypted, it doesn't matter that it is available in our public repo in the .travis.yml file. In fact, it has to be there. Without that, Travis CI wouldn't be able to save the updated book files back to Github. 

## Preparing your local build environment

1. Download RStudio for desktop [here](https://rstudio.com/products/rstudio/).
2. Make sure that [LiberationSerif](https://www.fontsquirrel.com/fonts/liberation-serif) is installed.

[^1]: [Here are instructions](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) for creating a Github Personal Access Token if you don't have one yet. (Check the “repo” box under "scopes" to give the necessary permissions.)

    Also, if you don't have [travis](https://github.com/travis-ci/travis.rb#installation) installed on your computer yet, you can install it with this command: 

    ```
      brew install travis
    ```
    
    Before this will work, you will need to create an account on travis-ci.com and link it to your github account.

    If you don't have [brew](https://brew.sh) installed yet... prepare yourself for some waiting. You can install it with this command:

    ```
      /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
    ```

*Congrats!* You now have a new book that will rebuild automatically any time you push changes to github.

For more in-depth instructions on setting up your new book, as well as important information on how to code the book, check out the [style guide](https://warhornmedia.github.io/style-guide).
